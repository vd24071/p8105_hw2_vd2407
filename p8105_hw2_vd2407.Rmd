---
title: "Homework 2"
author: Vanessa Dinh
date: 10/8/22
output: github_document
---

```{r}
library(tidyverse)
```

## Probem 1

```{r}
nyc_subway = 
  read_csv("./data/NYC_Transit_Subway_Entrance_And_Exit_Data.csv") %>% 
  janitor::clean_names() %>% 
  select(line, station_name, station_latitude, station_longitude, starts_with("route"), 
         entry, entrance_type, vending, ada) %>% 
  mutate(entry = ifelse(entry == "YES", TRUE, FALSE))

#need to finish paragraph description

```
The nyc_subway dataset contains 19 variables and 1,868 observations, so

## Problem 2

```{r}
mr_trash_wheel =
  readxl::read_excel(
    "./data/Trash Wheel Collection Data.xlsx",
    sheet = "Mr. Trash Wheel",
    range = "A2:N549") %>%
  janitor::clean_names() %>% 
  mutate(sports_balls = as.integer(sports_balls), 
    wheel_name = "mr_trash_wheel")

prof_trash_wheel =
  readxl::read_excel(
    "./data/Trash Wheel Collection Data.xlsx",
    sheet = "Professor Trash Wheel",
    range = "A2:M96") %>%
  janitor::clean_names() %>% 
  mutate(wheel_name = "prof_trash_wheel")

#need to figure out how to bind/join

```

## Problem 3

```{r}
polit_party =
  read_csv("./data/pols-month.csv")%>% 
  janitor::clean_names() %>% 
  separate(
    mon,
    into = c("year", "month", "day"),
    sep = '-') %>% 
  mutate(year = as.integer(year),
         month = as.integer(month),
         day = as.integer(day),
         month = month.name[month]) %>% 
  relocate(prez_gop, prez_dem) %>% 
  pivot_longer(
    prez_gop:prez_dem,
    names_to = "president",
    values_to = "president_num",
    names_prefix = "prez_") %>% 
  filter(president_num != 0) %>% 
  select(-president_num, -day)

polit_party
```

```{r}
snp_stocks = 
  read_csv("./data/snp.csv") %>% 
  janitor::clean_names() %>% 
  separate(
    date,
    into = c("month", "day", "year"),
    sep = '/') %>% 
  mutate(year = as.integer(year),
         month = as.integer(month),
         day = as.integer(day),
         month = month.name[month],
         year = ifelse(year < 20, year + 2000, year + 1900),
         year = as.integer(year)) %>% 
  relocate(year, month) %>% 
  select(-day)
snp_stocks
```

```{r}
unemployment = 
  read_csv("./data/unemployment.csv") %>% 
  pivot_longer(
    Jan:Dec,
    names_to = "month",
    values_to = "perc_unemployed") %>% 
  mutate(month = factor(month, levels = month.abb, labels = month.name),
         month = as.character(month),
         year = as.integer(Year)) %>% 
  relocate(year, month) %>% 
  select(-Year) 

unemployment
```

```{r}
snp_polit = 
  left_join(polit_party, snp_stocks)

unemploy_snp_polit =
  left_join(snp_polit, unemployment)
```




